{% set firstCounter %}{{""}}{% endset %}
{% set secondCounter %}{{""}}{% endset %}
{% set thirdCounter %}{{""}}{% endset %}
{% set colorArray %}{{""}}{% endset %}
{% set imageArray %}{{""}}{% endset %}
1.69
{#🔴🔴🔴🔴🔴appendColor🔴🔴🔴🔴🔴#}
{% macro appendColor  parentFolder colorFolder firstCounter secondCounter colorArray imageArray %}
{% if firstCounter.count >= colorFolder.items.count %} 
{{colorArray}}
{% set firstCounter %}{{""}}{% endset %}
{% set secondCounter %}{{secondCounter}}0{% endset %}
{% call traverseStyledItem parentFolder firstCounter secondCounter colorArray imageArray %} {#🟢🟢#}
{% else %}
{% for temp in colorArray|split:"|" %}
{% if temp == colorFolder.items[firstCounter.count].name %}
{% set firstCounter %}{{firstCounter}}0{% endset %}
{% if firstCounter.count <= colorFolder.items.count %} 
{% call appendColor parentFolder colorFolder firstCounter secondCounter colorArray imageArray%} {#🔴🔴#}
      {% endif %}
      {% break %}
    {% endif %}
    {% if forloop.last %}
      {% set colorArray %}{{colorArray}}|{{colorFolder.items[firstCounter.count].name}}{% endset %} 
      {% set firstCounter %}{{firstCounter}}0{% endset %}
        {% if firstCounter.count <= colorFolder.items.count %} 
          {% call appendColor parentFolder colorFolder firstCounter secondCounter colorArray imageArray%} {#🔴🔴#}
        {% endif %}
    {% endif %}
  {% endfor %}
{% endif %}
{% endmacro %} 
{#🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴#}
{#🟡🟡🟡🟡🟡appendIcon🟡🟡🟡🟡🟡#}
{% macro appendIcon parentFolder iconFolder firstCounter secondCounter colorArray imageArray %}
  {% for temp in imageArray|split:"|" %}
    {% if temp == iconFolder.items[firstCounter.count].name %}
    {% set firstCounter %}{{firstCounter}}0{% endset %}
    {% if firstCounter.count <= iconFolder.items.count %} 
    {% call appendIcon parentFolder iconFolder  firstCounter secondCounter colorArray imageArray%} {#🟡🟡#}
    {% else %}
{{imageArray}}
      {% call traverseStyledItem parentFolder firstCounter secondCounter colorArray imageArray %} {#🟢🟢#}
    {% set secondCounter %}{{secondCounter}}0{% endset %}
    {% endif %} 
    {% break %}
    {% endif %}
    {% if forloop.last %}
      {% set imageArray %}{{imageArray}}|{{iconFolder.items[firstCounter.count].name}}{% endset %} 
      {% set firstCounter %}{{firstCounter}}0{% endset %}
      {% if firstCounter.count <= iconFolder.items.count %} 
        {% call appendIcon parentFolder iconFolder firstCounter secondCounter colorArray imageArray%} {#🟡🟡#}
      {% else %}
{{imageArray}}
      {% set secondCounter %}{{secondCounter}}0{% endset %}
        {% call traverseStyledItem parentFolder firstCounter secondCounter colorArray imageArray %} {#🟢🟢#}
      {% endif %} 
    {% endif %}
  {% endfor %}
{% endmacro %} 
{#🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡#}
{#🟢🟢🟢🟢traverseStyledItem🟢🟢🟢🟢#}
{% macro traverseStyledItem items firstCounter secondCounter colorArray imageArray %}
  {% if secondCounter.count < items.count %}
    {% if items[secondCounter.count].name == "colors" %}
      {%call appendColor items items[secondCounter.count] firstCounter secondCounter colorArray imageArray%} {#🔴🔴#}
    {% elif items[secondCounter.count].name == "icons" %}
      {%call appendIcon items items[secondCounter.count] firstCounter secondCounter colorArray imageArray%} {#🟡🟡#}
    {% endif%}
  {% endif %}
{% endmacro %} 
{#🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢#}
{#🔵🔵🔵🔵traverseFolders🔵🔵🔵🔵#}
{% macro traverseFolders items firstCounter secondCounter colorArray imageArray %}
{% for item in items %}
  {% call traverseStyledItem item.items firstCounter secondCounter colorArray imageArray %} {#🟢🟢#}
{% endfor %}
{% endmacro %} 
{#🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵#}
{#⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️#}
{% if catalogs %}
  {% call traverseFolders catalogs.first.assets firstCounter secondCounter colorArray imageArray %} {#🔵🔵#}
{% endif %}
{#⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️#}
{#🔴🟡🟢🔵🟣⚫️⚪️#}
