{% set styledItemsCounter %}{{""}}{% endset %}
{% set brandFoldersCounter %}{{""}}{% endset %}
{% set assetsFoldersCounter %}{{""}}{% endset %}
{% set colorArray %}{{""}}{% endset %}
{% set imageArray %}{{""}}{% endset %}
1.73
{#🔴🔴🔴🔴🔴appendColor🔴🔴🔴🔴🔴#}
  {% macro appendColor  parentFolder colorFolder styledItemsCounter brandFoldersCounter colorArray imageArray %}
  {% if styledItemsCounter.count >= colorFolder.items.count %} 
  {{colorArray}}
  {% set styledItemsCounter %}{{""}}{% endset %}
  {% set brandFoldersCounter %}{{brandFoldersCounter}}0{% endset %}
  {% call traverseStyledItem parentFolder styledItemsCounter brandFoldersCounter colorArray imageArray %} {#🟢🟢#}
  {% else %}
  {% for temp in colorArray|split:"|" %}
  {% if temp == colorFolder.items[styledItemsCounter.count].name %}
  {% set styledItemsCounter %}{{styledItemsCounter}}0{% endset %}
  {% if styledItemsCounter.count <= colorFolder.items.count %} 
  {% call appendColor parentFolder colorFolder styledItemsCounter brandFoldersCounter colorArray imageArray%} {#🔴🔴#}
        {% endif %}
        {% break %}
      {% endif %}
      {% if forloop.last %}
        {% set colorArray %}{{colorArray}}|{{colorFolder.items[styledItemsCounter.count].name}}{% endset %} 
        {% set styledItemsCounter %}{{styledItemsCounter}}0{% endset %}
          {% if styledItemsCounter.count <= colorFolder.items.count %} 
            {% call appendColor parentFolder colorFolder styledItemsCounter brandFoldersCounter colorArray imageArray%} {#🔴🔴#}
          {% endif %}
      {% endif %}
    {% endfor %}
  {% endif %}
  {% endmacro %} 
{#🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴🔴#}
{#🟡🟡🟡🟡🟡appendIcon🟡🟡🟡🟡🟡#}
  {% macro appendIcon parentFolder iconFolder styledItemsCounter brandFoldersCounter colorArray imageArray %}
    {% for temp in imageArray|split:"|" %}
      {% if temp == iconFolder.items[styledItemsCounter.count].name %}
      {% set styledItemsCounter %}{{styledItemsCounter}}0{% endset %}
      {% if styledItemsCounter.count <= iconFolder.items.count %} 
      {% call appendIcon parentFolder iconFolder  styledItemsCounter brandFoldersCounter colorArray imageArray%} {#🟡🟡#}
      {% else %}
  {{imageArray}}
        {% call traverseStyledItem parentFolder styledItemsCounter brandFoldersCounter colorArray imageArray %} {#🟢🟢#}
      {% set brandFoldersCounter %}{{brandFoldersCounter}}0{% endset %}
      {% endif %} 
      {% break %}
      {% endif %}
      {% if forloop.last %}
        {% set imageArray %}{{imageArray}}|{{iconFolder.items[styledItemsCounter.count].name}}{% endset %} 
        {% set styledItemsCounter %}{{styledItemsCounter}}0{% endset %}
        {% if styledItemsCounter.count <= iconFolder.items.count %} 
          {% call appendIcon parentFolder iconFolder styledItemsCounter brandFoldersCounter colorArray imageArray%} {#🟡🟡#}
        {% else %}
  {{imageArray}}
        {% set brandFoldersCounter %}{{brandFoldersCounter}}0{% endset %}
          {% call traverseStyledItem parentFolder styledItemsCounter brandFoldersCounter colorArray imageArray %} {#🟢🟢#}
        {% endif %} 
      {% endif %}
    {% endfor %}
  {% endmacro %} 
{#🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡🟡#}
{#🟢🟢🟢🟢traverseStyledItem🟢🟢🟢🟢#}
  {% macro traverseStyledItem items styledItemsCounter brandFoldersCounter colorArray imageArray %}
    {% if brandFoldersCounter.count < items.count %}
      {% if items[brandFoldersCounter.count].name == "colors" %}
        {%call appendColor items items[brandFoldersCounter.count] styledItemsCounter brandFoldersCounter colorArray imageArray%} {#🔴🔴#}
      {% elif items[brandFoldersCounter.count].name == "icons" %}
        {%call appendIcon items items[brandFoldersCounter.count] styledItemsCounter brandFoldersCounter colorArray imageArray%} {#🟡🟡#}
      {% endif%}
    {% endif %}
  {% endmacro %} 
{#🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢🟢#}
{#🔵🔵🔵🔵traverseFolders🔵🔵🔵🔵#}
{% macro traverseFolders items styledItemsCounter brandFoldersCounter colorArray imageArray %}
{% for item in items %}
  {% call traverseStyledItem item.items styledItemsCounter brandFoldersCounter colorArray imageArray %} {#🟢🟢#}
{% endfor %}
{% endmacro %} 
{#🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵🔵#}
{#⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️#}
{% if catalogs %}
  {% call traverseFolders catalogs.first.assets styledItemsCounter brandFoldersCounter colorArray imageArray %} {#🔵🔵#}
{% endif %}
{#⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️⚫️#}
{#🔴🟡🟢🔵🟣⚫️⚪️#}
